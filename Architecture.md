#架构漫谈

Architecture is like teenage sex, everybody talks about it, nobody really knows what is it.
#聊聊架构

##第9章 切分的原则

###架构切分的原则

被切分的生命周期，如果必须要生命周期的主体在连续时间内持续执行，而且不能够被打断并更换生命周期主体的话，就不能切分出去。
每个生命周期的负责人，对所负责生命周期的权利和义务必须是对等的。
切分出来的生命周期，不应该超出一个自然人的负载。
切分是内部活动，内部无论怎么切，对整个系统的外部都应该是透明的。
总结

架构的切分的导火索是人的负载太重，也就是时间不够。
架构的切分实际就是对利益相关人的利益进行切分或合并，使得每个利益相关人的权责是对等的，每个利益相关人可以为自己的利益负责。
架构切分的最终结果都会体现在组织架构上，只有这样才能够让架构落地并推进。
架构切分的结果一定是一个树状，这也是为什么会产生分层。层数越多沟通越多，效率越低，分层要越小越好。尽可能变成一棵平衡树，才能让整个系统的效率最大化。
##第11章 什么是架构师

架构的目的就是为了增长。

架构师要发现问题的主体，并确定核心问题。

架构师要对总体增长的效果负责，那么自然意味着要能调动资源，也要有权利分配。

架构师要时时把**增长**放在自己的第一考虑要素，把**识别核心生命周期及其主体**作为第一思考，这样才能确保权利的合理分配，保证增长的效率。

##第15章 什么事软件架构师

作为软件架构师，必须时刻把对软件的生命周期和业务的生命周期的**识别**放在第一位。

对于软件生命周期，必须要深入思考软件开发的生命周期和软件运行的生命周期。

在代码层面，要对业务代码和访问代码做好架构拆分。

软件架构师需要去拆分生命周期，并要形成组织架构去落实架构执行。

架构师的核心在于架构的执行。

人类架构的核心就是组织架构，正确的组织架构才能保证架构的执行。

架构师和技术人员的分工配合：架构师拆分生命周期，技术人员实现生命周期。

技术：软件技术和业务技术。

技术人员如果要成为架构师，就必须跳出技术的视角，换一个角度去看技术。要把时间花在研究生命周期规律和业务的增长上，花在选择合适的技术上，而不只是追求新潮的或自己喜欢的技术。

##第16章 业务、架构和技术三者的关系

技术：通过人为创造条件，让指定的规律按照人类的意愿发生，这就是技术。

业务：所谓业务，就是要解决人类的问题，目的是为了支撑人类自身的生命周期，使人类获得利益。

技术总是在人类对业务目标要求不断提高的情况下产生，其目的是为了获取更大的利益。所以：

1. 技术是为了解决业务问题儿产生的，没有了业务，技术也就没有了存在的前提。
2. 有了更好的技术后，效率较差的技术，就会慢慢地被淘汰，从而消失，一切都遵从人类的利益诉求。

关系：

业务是核心，技术是解决业务问题的工具，而架构是让业务长大的组织方法。

架构需要用技术来实现拆分，而技术需要架构来合理组织，以提升效率。

##第17章 软件研发

软件的开发生命周期：
- 确定业务需求
- 编码
- 测试
- 上线

软件架构师要学习业务的架构，根据业务特点确定软件开发的核心生命周期，根据业务组织架构确定软件的拆分和架构：

- 组织软件工程师进行有效的分工，形成软件开发团队的组织架构。
- 为了减轻软件工程师的负担，要把软件开发过程中的非核心生命周期拆分出来，形成软件开发本身的业务架构，并通过自动化来提升软件工程师的开发效率。

软件所面对的共有三大业务领域及其所对应的架构：
1. 业务领域，由业务组织架构来推动业务的架构，即业务生命周期的拆分；
2. 软件开发业务领域，由软件开发的业务组织架构来推动软件的业务架构，如软件的研发流程、角色分工等。所形成的是软件开发模式，不同角色的分工模型；
3. 软件运行业务领域，由软件的开发工程师来负责编写代码，形成软件的架构，并支撑软件的运行。对不同的软件开发工程师进行分工，形成不同的软件开发工程师组织架构，以支撑不同的软件，与软件的架构相匹配。

软件工程师负责建设，软件架构师负责组织。

软件架构师的主要职责:
1. 理解业务组织架构，业务组织架构支撑并推进业务架构，背后的原因是对业务生命周期的拆分。
2. 根据业务生命周期的特点和软件开发生命周期的特点，形成了软件开发本身的业务体系，以及对软件开发生命周期的拆分，也就是软件开发的业务架构。
3. 根据对业务生命周期以及软件开发生命周期的拆分，形成了和两者都相匹配的软件开发团队的组织架构。
4. 对软件进行架构拆分，匹配业务架构和软件开发的业务架构。

##第18章 软件的架构拆分

**软件开发团队的拆分：**
一个业务团队对应一个软件开发团队。

这个方式要求每个业务部分都有独立的软件开发团队来配合。每个软件开发团队只对应一个业务团队，这样形成的软件边界都很清楚，沟通也很高效。业务团队和对应的软件开发团队能够形成合力，共同解决该团队的业务问题。

这种方式会让软件开发团队的组织也形成一棵组织架构树，并且这棵树和业务团队的组织架构树是匹配的。

**软件的拆分：**
一个软件开发团队开发一个软件。这样每个软件的职责非常明确，沟通也会比较简单，这是最好的状况。

这时形成的还是一棵树。软件和软件之间的关系，反应的就是组织和组织之间的关系，一一对应，还是一棵树。

**软件拆分的第二动力：**
影响软件拆分的动力就是流量的增长。也就是希望单位时间内可以处理更多的业务。一方面流量增长导致了业务本身的拆分，进一步导致了软件的拆分；另一方面，某个软件本身流量的增长也会导致该软件自身的拆分。根本问题都在流量的增长上。从这个角度看，流量增长是所有企业都追求的目标，只有更多的流量，业务才能够做大，良好的架构则是流量增长的保证。


